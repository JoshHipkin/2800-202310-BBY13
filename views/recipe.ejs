<% if(isValidSession(req)) { %>
  <%- include("templates/header") %> 
  <% } else { %>
    <%- include("templates/headerBeforeLoginHome") %> 
  <% } %>
  <div class="p-4 mb-3 bg-body-tertiary rounded">
   
   
<h1 class="fst-italic"><%= recipe.name %></h1>
<div class= "py-5">
<h4 class>Ingredients:</h4> 
<p class="mb-0">
<ul>
    <% const ingredients_raw_str = recipe.ingredients_raw_str.split(','); %>
    <% for(let i=0; i < ingredients_raw_str.length; i++) { %>
      <% const ingredient_raw = ingredients_raw_str[i].trim().replace(/^\[|\]$/g, '').replace(/^"|"$/g, ''); %>
      <li><%= ingredient_raw  %></li>
    <% } %>
  </ul>

</p>
</div>

<h4 class="fst-italic">Instructions:</h4>

<p class="mb-0">
    <ol>
        <% const steps = recipe.steps.split(/[;.]/); %>
        <% for(let i=0; i < steps.length; i++) { %>
          <% const step = steps[i].trim().replace(/\[|\]|'|,/g, ''); %>
          <% if (step) { %>
            <li><%= step %></li>
          <% } %>
        <% } %>
      </ol>
</p>
</div>


<%- include("templates/footer") %>




